<!DOCTYPE html>
<html>
	<head>
		<title>Home Page</title>
		<link rel="stylesheet" href="styles.css">
		<link rel="icon" type="image/x-icon" href="favicon.ico">
		<script src="script.js"></script>
		<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    		<style>#map { height: 400px; width: 100%; }</style>
	</head>
<body>
	<div class="nav">
		<div class="name">Abutan, JJ</div>
		<input type="text" placeholder="Search..." id="search-bar">
       		<button id="search-button">üîç</button>
		<div class="time" id="time">localTime();</div>
	</div>
	
	<div class="welcome">SMART CLINIC</div>

	<div class="buttons">
  		<div class="choices"><p>My Account</p></div>
		<div class="choices"><p>Book an Appointment</p></div>
		<div class="choices"><p>Online Consultation</p></div>
		<div class="choices"><p>Our Clinics</p></div>
		<div class="choices"><p><a href="#news">News</a></p></div>
  		<div class="choices"><p><a href="#services">Other Services</a></p></div>
		<div class="choices"><p><a href="#contact">Contact Us</a></p></div>
	</div>
	
	<div class="mission">
		<p>We‚Äôre here to make healthcare easier by helping clinics manage patient records and appointments without the hassle.</p>
		<p>Smart Clinic was born from a vision to bridge healthcare and technology, partnering with doctors and clinics to bring their services into the 		digital age.</p>
		<p>With a foundation built on collaboration and innovation, we offer a wide range of cutting-edge solutions designed to enhance patient care 			and streamline medical practices.</p>
		<p>Our goal is to empower healthcare providers by providing them with the tools they need to improve patient outcomes and optimize their daily 			operations.</p>
	</div>

	<div class="doctor"><img src="doctor.png"></div>

	<h4 id="services">Services we offer</h2>
	<div class="services">
		<img src="consultation.webp">
		<img src="medical_certificate.webp">
		<img src="clinics.webp">
		<img src="appointment.webp">
	</div>

	<h4 id="news">News</h2>
	<div class="news"><p>No news at this moment</p></div>

	<h4>Find a Clinic Near You</h4>
<div class="search-container">
        <input id="search-box" type="text" placeholder="Enter location..." oninput="fetchSuggestions()">

    </div>
    <div id="suggestions"></div>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        var accessToken = "pk.1da2a6c2605a05780b17d7810c280ae0"; // Replace with your token
        var map = L.map('map').setView([14.5995, 120.9842], 12); // Default to Manila

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors'
        }).addTo(map);

        function searchLocation() {
            var query = document.getElementById('search-box').value;
            if (!query) { alert("Please enter a location!"); return; }
            fetch(`https://us1.locationiq.com/v1/search.php?key=${accessToken}&q=${query}&format=json`)
                .then(response => response.json())
                .then(data => {
                    if (data.length > 0) {
                        var lat = data[0].lat, lon = data[0].lon;
                        L.marker([lat, lon]).addTo(map).bindPopup(query).openPopup();
                        map.setView([lat, lon], 15);
                    } else {
                        alert("Location not found!");
                    }
                })
                .catch(error => console.error("Error:", error));
        }

        function fetchSuggestions() {
            var query = document.getElementById('search-box').value;
            if (query.length < 3) { document.getElementById('suggestions').style.display = "none"; return; }
            fetch(`https://us1.locationiq.com/v1/autocomplete.php?key=${accessToken}&q=${query}&format=json`)
                .then(response => response.json())
                .then(data => {
                    var suggestionsBox = document.getElementById('suggestions');
                    suggestionsBox.innerHTML = "";
                    data.forEach(location => {
                        var div = document.createElement("div");
                        div.textContent = location.display_name;
                        div.onclick = function () {
                            document.getElementById('search-box').value = location.display_name;
                            searchLocation();
                            suggestionsBox.style.display = "none";
                        };
                        suggestionsBox.appendChild(div);
                    });
                    suggestionsBox.style.display = "block";
                })
                .catch(error => console.error("Error:", error));
        }

        document.addEventListener("click", function(event) {
            if (!event.target.closest(".search-container")) {
                document.getElementById('suggestions').style.display = "none";
            }
        });
    </script>
	<div class="contact" id="contact">Contacts</div>
</body>
</html>
